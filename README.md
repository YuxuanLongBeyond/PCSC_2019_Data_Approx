# PCSC Data Approximation 2019  
Group 5: Yuxuan Long, Yiting Zhang
  
  
  
This project focuses on implementation of basic data fitting algorithms in C++, which involve four methods:  
1. Polynomial interpolation 
2. Linear piecewise polynomial interpolation
3. Cubic spline
4. Fourier interpolation

### Folder Structure
*core*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// all implementations of algorithms and experiments  
----------*config*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// configuration files, configuration class (for parameter extraction).  
----------*data*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// data files (like Output.dat) and Matlab script (for reference data generation in tests).  
----------*plot*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// plot methods by Gnuplot and Matlab.  
----------*src*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// source files for the implementation of the main algorithms.  
----------*experiment*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// data IO handling (include data generation) and experimental test methods.  
  
*tests*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Googles tests  
----------*matlab_data*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// data files generated by Matlab built-in functions, with Matlab script  
----------*lib*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Google test source codes from https://github.com/google/googletest  
  
*doc*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// the documentation from Doxygen (it will be automatically generated by Cmake).  
 
## A Quick Start
The input parameters are defined in the configuration file in the directory *core/config*. An example config.txt is already provided in this folder *core/config*, and config.txt contains the default parameters (feel free to change them directly in this file). New configuration file can be also created (it should be a text file and satisfy basic format as in config.txt) under the same directory *core/config*. The name of new file can be passed to the main function as the first argument.  
Cmake can be used to compile the codes (compilation details are shown in the report). After compilation, under the build folder, there are two separate executable files, for running the implementation and tests respectively.  
**To run our main implementations**, go to the directory *build/core/*, and execute as follow:  
`./core`  
At this case where no argment is provided, config.txt will be used as input. This command is also equivalent to:  
`./core config.txt`  
For a newly created configuration file, under the directory *build/core/*, an example command for running the implementation can be:  
`./core YourNewConfigFileName.txt`  
Instructions about specific parameter setup in configuration file are all shown the in sections below. **Please refer to those instructions in order to change parameters properly**.  
  
Google test is **independent** of any configuration file since parameters are fixed for test. **To run our Google test**, go to the directory *build/tests/*, and execute directly as follow:  
`./int_test`  
where all implementations of the approximation algorithms are tested to check the correctness (by comparing our results with Matlab results).  

### Data Aquisition  
The user has two options to the access of the input data.  
Set `use_file = 0` (by default), then the program will generate data by writing a new file. Otherwise, the user has to provide his/her own data file (not recommended).  
In both cases, `use_file_name` is the file name. By default, we set `use_file_name = data.dat`.  
In this project, all the data files contain two columns, which correspond to x and y values.

### Input Data Generation
If we set `use_file = 0`, there are several parameters to be specified:  
1. `function_type`, which indicates the choice of function to be used for data generation. It should be of integer type: 1 for trigonometric function; 2 for Runge function (by default); 3 for polynomial function.  
2. `x_input_min` and `x_input_max`, which control the range of the input x.  
3. `num_input_points`, which indicates the number of input data points to be used for interpolation.  
4. `node_type`, which indicates the nodes distribution. It should be of integer type: 1 for uniform distribution; 2 for Chebyshev Gaussian Lobatto (CGL) nodes.

### Fitting Methods
To use one specific method, assign the method name to the parameter *approximation_method*.  
For polynomial interpolation, we set `approximation_method = polynomial`. This method has two relevant parameters:  
1. `polynomial_degree`, which controls the degree of the polynomial.  
2. `polynomial_lambda`, small non-negative number to be added on the diagonal when solving the linear system. By default, it is zero.  

For spline interpolation, set `approximation_method = spline`.  
For linear piecewise interpolation, set `approximation_method = interp1`.  
For Fourier interpolation, set `approximation_method = dct`.    

### Test Data Generation
The test to compare the true data with the approximation is compulsory and automatic in each run. To generate true data, we can set the parameters:  
1. `x_test_min` and `x_test_max`, which control the range of the test points x_test.  
2. `num_test_points`, the number of test points.  

The test output will be stored in the file name parameter `out_file_name`, which can be Output.dat by
default.  

### Plot
To plot the results directly in C++, set `use_gnuplot = 1`, but make sure that Gnuplot has been installed.  
Alternatively, run matlab_plot.m in directory *core/plot* will plot the results from default data files.  




